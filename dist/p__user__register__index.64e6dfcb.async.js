"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[907],{18899:function(z,x,e){e.r(x),e.d(x,{default:function(){return $}});var u=e(5574),v=e.n(u),E=e(80854),j=e(8232),M=e(74656),I=e(2453),F=e(38703),O=e(55102),S=e(55241),T=e(78957),c=e(71230),n=e(15746),l=e(14726),o=e(67294),a=e(15009),r=e.n(a),m=e(99289),p=e.n(m);function i(W){return d.apply(this,arguments)}function d(){return d=p()(r()().mark(function W(y){return r()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.abrupt("return",(0,E.request)("/api/register",{method:"POST",data:y}));case 1:case"end":return B.stop()}},W)})),d.apply(this,arguments)}var _=e(62679),A=(0,_.kc)(function(W){var y=W.token;return{main:{width:"368px",margin:"0 auto",h3:{marginBottom:"20px",fontSize:"16px"}},password:{marginBottom:"24px",".ant-form-item-explain":{display:"none"}},getCaptcha:{display:"block",width:"100%"},footer:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},submit:{width:"50%"},success:{transition:"color 0.3s",color:y.colorSuccess},warning:{transition:"color 0.3s",color:y.colorWarning},error:{transition:"color 0.3s",color:y.colorError},"progress-pass > .progress":{".ant-progress-bg":{backgroundColor:y.colorWarning}}}}),D=A,t=e(85893),C=j.Z.Item,g=M.Z.Option,q={ok:"success",pass:"normal",poor:"exception"},ee=function(){var y=D(),f=y.styles,B=(0,o.useState)(0),b=v()(B,2),w=b[0],V=b[1],te=(0,o.useState)(!1),G=v()(te,2),K=G[0],H=G[1],X=(0,o.useState)("86"),Y=v()(X,2),ne=Y[0],J=Y[1],Q=(0,o.useState)(!1),h=v()(Q,2),L=h[0],U=h[1],se=!1,k,ae={ok:(0,t.jsx)("div",{className:f.success,children:(0,t.jsx)("span",{children:"\u5F3A\u5EA6\uFF1A\u5F3A"})}),pass:(0,t.jsx)("div",{className:f.warning,children:(0,t.jsx)("span",{children:"\u5F3A\u5EA6\uFF1A\u4E2D"})}),poor:(0,t.jsx)("div",{className:f.error,children:(0,t.jsx)("span",{children:"\u5F3A\u5EA6\uFF1A\u592A\u77ED"})})},le=j.Z.useForm(),ie=v()(le,1),Z=ie[0];(0,o.useEffect)(function(){return function(){clearInterval(k)}},[k]);var ue=function(){var s=59;V(s),k=window.setInterval(function(){s-=1,V(s),s===0&&clearInterval(k)},1e3)},re=function(){var s=Z.getFieldValue("password");return s&&s.length>9?"ok":s&&s.length>5?"pass":"poor"},oe=(0,E.useRequest)(i,{manual:!0,onSuccess:function(s,P){s.status==="ok"&&(I.ZP.success("\u6CE8\u518C\u6210\u529F\uFF01"),E.history.push({pathname:"/user/register-result?account=".concat(P[0].email)}))}}),ce=oe.loading,de=oe.run,pe=function(s){de(s)},ve=function(s,P){var N=Promise;return P&&P!==Z.getFieldValue("password")?N.reject("\u4E24\u6B21\u8F93\u5165\u7684\u5BC6\u7801\u4E0D\u5339\u914D!"):N.resolve()},me=function(s,P){var N=Promise;return P?(K||H(!!P),U(!L),P.length<6?N.reject(""):(P&&se&&Z.validateFields(["confirm"]),N.resolve())):(H(!!P),N.reject("\u8BF7\u8F93\u5165\u5BC6\u7801!"))},ge=function(s){J(s)},fe=function(){var s=Z.getFieldValue("password"),P=re();return s&&s.length?(0,t.jsx)("div",{className:f["progress-".concat(P)],children:(0,t.jsx)(F.Z,{status:q[P],strokeWidth:6,percent:s.length*10>100?100:s.length*10,showInfo:!1})}):null};return(0,t.jsxs)("div",{className:f.main,children:[(0,t.jsx)("h3",{children:"\u6CE8\u518C"}),(0,t.jsxs)(j.Z,{form:Z,name:"UserRegister",onFinish:pe,children:[(0,t.jsx)(C,{name:"email",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u90AE\u7BB1\u5730\u5740!"},{type:"email",message:"\u90AE\u7BB1\u5730\u5740\u683C\u5F0F\u9519\u8BEF!"}],children:(0,t.jsx)(O.Z,{size:"large",placeholder:"\u90AE\u7BB1"})}),(0,t.jsx)(S.Z,{getPopupContainer:function(s){return s&&s.parentNode?s.parentNode:s},content:K&&(0,t.jsxs)("div",{style:{padding:"4px 0"},children:[ae[re()],fe(),(0,t.jsx)("div",{style:{marginTop:10},children:(0,t.jsx)("span",{children:"\u8BF7\u81F3\u5C11\u8F93\u5165 6 \u4E2A\u5B57\u7B26\u3002\u8BF7\u4E0D\u8981\u4F7F\u7528\u5BB9\u6613\u88AB\u731C\u5230\u7684\u5BC6\u7801\u3002"})})]}),overlayStyle:{width:240},placement:"right",open:K,children:(0,t.jsx)(C,{name:"password",className:Z.getFieldValue("password")&&Z.getFieldValue("password").length>0&&f.password,rules:[{validator:me}],children:(0,t.jsx)(O.Z,{size:"large",type:"password",placeholder:"\u81F3\u5C116\u4F4D\u5BC6\u7801\uFF0C\u533A\u5206\u5927\u5C0F\u5199"})})}),(0,t.jsx)(C,{name:"confirm",rules:[{required:!0,message:"\u786E\u8BA4\u5BC6\u7801"},{validator:ve}],children:(0,t.jsx)(O.Z,{size:"large",type:"password",placeholder:"\u786E\u8BA4\u5BC6\u7801"})}),(0,t.jsx)(C,{name:"mobile",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7!"},{pattern:/^\d{11}$/,message:"\u624B\u673A\u53F7\u683C\u5F0F\u9519\u8BEF!"}],children:(0,t.jsxs)(T.Z.Compact,{style:{width:"100%"},children:[(0,t.jsxs)(M.Z,{size:"large",value:ne,onChange:ge,style:{width:"30%"},children:[(0,t.jsx)(g,{value:"86",children:"+86"}),(0,t.jsx)(g,{value:"87",children:"+87"})]}),(0,t.jsx)(O.Z,{size:"large",placeholder:"\u624B\u673A\u53F7"})]})}),(0,t.jsxs)(c.Z,{gutter:8,children:[(0,t.jsx)(n.Z,{span:16,children:(0,t.jsx)(C,{name:"captcha",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801!"}],children:(0,t.jsx)(O.Z,{size:"large",placeholder:"\u9A8C\u8BC1\u7801"})})}),(0,t.jsx)(n.Z,{span:8,children:(0,t.jsx)(l.ZP,{size:"large",disabled:!!w,className:f.getCaptcha,onClick:ue,children:w?"".concat(w," s"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"})})]}),(0,t.jsx)(C,{children:(0,t.jsxs)("div",{className:f.footer,children:[(0,t.jsx)(l.ZP,{size:"large",loading:ce,className:f.submit,type:"primary",htmlType:"submit",children:(0,t.jsx)("span",{children:"\u6CE8\u518C"})}),(0,t.jsx)(E.Link,{to:"/user/login",children:(0,t.jsx)("span",{children:"\u4F7F\u7528\u5DF2\u6709\u8D26\u6237\u767B\u5F55"})})]})})]})]})},$=ee},81643:function(z,x,e){e.d(x,{Z:function(){return u}});const u=v=>v?typeof v=="function"?v():v:null},66330:function(z,x,e){e.d(x,{aV:function(){return S}});var u=e(67294),v=e(93967),E=e.n(v),j=e(92419),M=e(81643),I=e(53124),F=e(20136),O=function(n,l){var o={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&l.indexOf(a)<0&&(o[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(n);r<a.length;r++)l.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(n,a[r])&&(o[a[r]]=n[a[r]]);return o};const S=n=>{let{title:l,content:o,prefixCls:a}=n;return!l&&!o?null:u.createElement(u.Fragment,null,l&&u.createElement("div",{className:`${a}-title`},l),o&&u.createElement("div",{className:`${a}-inner-content`},o))},T=n=>{const{hashId:l,prefixCls:o,className:a,style:r,placement:m="top",title:p,content:i,children:d}=n,_=(0,M.Z)(p),A=(0,M.Z)(i),D=E()(l,o,`${o}-pure`,`${o}-placement-${m}`,a);return u.createElement("div",{className:D,style:r},u.createElement("div",{className:`${o}-arrow`}),u.createElement(j.G,Object.assign({},n,{className:l,prefixCls:o}),d||u.createElement(S,{prefixCls:o,title:_,content:A})))},c=n=>{const{prefixCls:l,className:o}=n,a=O(n,["prefixCls","className"]),{getPrefixCls:r}=u.useContext(I.E_),m=r("popover",l),[p,i,d]=(0,F.Z)(m);return p(u.createElement(T,Object.assign({},a,{prefixCls:m,hashId:i,className:E()(o,d)})))};x.ZP=c},55241:function(z,x,e){var u=e(67294),v=e(93967),E=e.n(v),j=e(21770),M=e(15105),I=e(81643),F=e(33603),O=e(96159),S=e(53124),T=e(83062),c=e(66330),n=e(20136),l=function(r,m){var p={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&m.indexOf(i)<0&&(p[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,i=Object.getOwnPropertySymbols(r);d<i.length;d++)m.indexOf(i[d])<0&&Object.prototype.propertyIsEnumerable.call(r,i[d])&&(p[i[d]]=r[i[d]]);return p};const a=u.forwardRef((r,m)=>{var p,i;const{prefixCls:d,title:_,content:A,overlayClassName:D,placement:t="top",trigger:C="hover",children:g,mouseEnterDelay:q=.1,mouseLeaveDelay:ee=.1,onOpenChange:$,overlayStyle:W={}}=r,y=l(r,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle"]),{getPrefixCls:f}=u.useContext(S.E_),B=f("popover",d),[b,w,V]=(0,n.Z)(B),te=f(),G=E()(D,w,V),[K,H]=(0,j.Z)(!1,{value:(p=r.open)!==null&&p!==void 0?p:r.visible,defaultValue:(i=r.defaultOpen)!==null&&i!==void 0?i:r.defaultVisible}),X=(h,L)=>{H(h,!0),$==null||$(h,L)},Y=h=>{h.keyCode===M.Z.ESC&&X(!1,h)},ne=h=>{X(h)},J=(0,I.Z)(_),Q=(0,I.Z)(A);return b(u.createElement(T.Z,Object.assign({placement:t,trigger:C,mouseEnterDelay:q,mouseLeaveDelay:ee,overlayStyle:W},y,{prefixCls:B,overlayClassName:G,ref:m,open:K,onOpenChange:ne,overlay:J||Q?u.createElement(c.aV,{prefixCls:B,title:J,content:Q}):null,transitionName:(0,F.m)(te,"zoom-big",y.transitionName),"data-popover-inject":!0}),(0,O.Tm)(g,{onKeyDown:h=>{var L,U;u.isValidElement(g)&&((U=g==null?void 0:(L=g.props).onKeyDown)===null||U===void 0||U.call(L,h)),Y(h)}})))});a._InternalPanelDoNotUseOrYouWillBeFired=c.ZP,x.Z=a},20136:function(z,x,e){var u=e(14747),v=e(50438),E=e(97414),j=e(79511),M=e(8796),I=e(83559),F=e(83262);const O=c=>{const{componentCls:n,popoverColor:l,titleMinWidth:o,fontWeightStrong:a,innerPadding:r,boxShadowSecondary:m,colorTextHeading:p,borderRadiusLG:i,zIndexPopup:d,titleMarginBottom:_,colorBgElevated:A,popoverBg:D,titleBorderBottom:t,innerContentPadding:C,titlePadding:g}=c;return[{[n]:Object.assign(Object.assign({},(0,u.Wf)(c)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:d,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"--antd-arrow-background-color":A,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${n}-content`]:{position:"relative"},[`${n}-inner`]:{backgroundColor:D,backgroundClip:"padding-box",borderRadius:i,boxShadow:m,padding:r},[`${n}-title`]:{minWidth:o,marginBottom:_,color:p,fontWeight:a,borderBottom:t,padding:g},[`${n}-inner-content`]:{color:l,padding:C}})},(0,E.ZP)(c,"var(--antd-arrow-background-color)"),{[`${n}-pure`]:{position:"relative",maxWidth:"none",margin:c.sizePopupArrow,display:"inline-block",[`${n}-content`]:{display:"inline-block"}}}]},S=c=>{const{componentCls:n}=c;return{[n]:M.i.map(l=>{const o=c[`${l}6`];return{[`&${n}-${l}`]:{"--antd-arrow-background-color":o,[`${n}-inner`]:{backgroundColor:o},[`${n}-arrow`]:{background:"transparent"}}}})}},T=c=>{const{lineWidth:n,controlHeight:l,fontHeight:o,padding:a,wireframe:r,zIndexPopupBase:m,borderRadiusLG:p,marginXS:i,lineType:d,colorSplit:_,paddingSM:A}=c,D=l-o,t=D/2,C=D/2-n,g=a;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:m+30},(0,j.w)(c)),(0,E.wZ)({contentRadius:p,limitVerticalRadius:!0})),{innerPadding:r?0:12,titleMarginBottom:r?0:i,titlePadding:r?`${t}px ${g}px ${C}px`:0,titleBorderBottom:r?`${n}px ${d} ${_}`:"none",innerContentPadding:r?`${A}px ${g}px`:0})};x.Z=(0,I.I$)("Popover",c=>{const{colorBgElevated:n,colorText:l}=c,o=(0,F.IX)(c,{popoverBg:n,popoverColor:l});return[O(o),S(o),(0,v._y)(o,"zoom-big")]},T,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]})}}]);
